{"ast":null,"code":"var _jsxFileName = \"/Users/edbentto/PAINEL-OBS/src/context/GameStateContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GameStateContext = /*#__PURE__*/createContext();\nconst initialState = {\n  homeTeam: {\n    logo: null,\n    name: \"HOME\",\n    score: 0,\n    redCards: 0\n  },\n  awayTeam: {\n    logo: null,\n    name: \"AWAY\",\n    score: 0,\n    redCards: 0\n  },\n  timer: {\n    minutes: 0,\n    seconds: 0,\n    isRunning: false\n  },\n  period: \"1T\",\n  extraTime: 0\n};\nfunction gameStateReducer(state, action) {\n  switch (action.type) {\n    case 'SET_HOME_TEAM':\n      return {\n        ...state,\n        homeTeam: {\n          ...state.homeTeam,\n          ...action.payload\n        }\n      };\n    case 'SET_AWAY_TEAM':\n      return {\n        ...state,\n        awayTeam: {\n          ...state.awayTeam,\n          ...action.payload\n        }\n      };\n    case 'SET_TIMER':\n      return {\n        ...state,\n        timer: {\n          ...state.timer,\n          ...action.payload\n        }\n      };\n    case 'INCREMENT_TIMER':\n      const newSeconds = state.timer.seconds + 1;\n      const newMinutes = newSeconds >= 60 ? state.timer.minutes + 1 : state.timer.minutes;\n      return {\n        ...state,\n        timer: {\n          ...state.timer,\n          minutes: newMinutes > 99 ? 99 : newMinutes,\n          seconds: newSeconds >= 60 ? 0 : newSeconds\n        }\n      };\n    case 'SET_PERIOD':\n      return {\n        ...state,\n        period: action.payload\n      };\n    case 'SET_EXTRA_TIME':\n      return {\n        ...state,\n        extraTime: action.payload\n      };\n    case 'LOAD_STATE':\n      return action.payload;\n    case 'RESET_GAME':\n      return initialState;\n    default:\n      return state;\n  }\n}\nexport function GameStateProvider({\n  children\n}) {\n  _s();\n  const [state, dispatch] = useReducer(gameStateReducer, initialState);\n\n  // Load state from localStorage on mount\n  useEffect(() => {\n    const savedState = localStorage.getItem('obs-football-game-state');\n    if (savedState) {\n      try {\n        const parsedState = JSON.parse(savedState);\n        dispatch({\n          type: 'LOAD_STATE',\n          payload: parsedState\n        });\n      } catch (error) {\n        console.error('Error loading saved state:', error);\n      }\n    }\n  }, []);\n\n  // Save state to localStorage whenever it changes\n  useEffect(() => {\n    localStorage.setItem('obs-football-game-state', JSON.stringify(state));\n  }, [state]);\n\n  // Listen for storage changes from other tabs\n  useEffect(() => {\n    const handleStorageChange = e => {\n      if (e.key === 'obs-football-game-state' && e.newValue) {\n        try {\n          const newState = JSON.parse(e.newValue);\n          dispatch({\n            type: 'LOAD_STATE',\n            payload: newState\n          });\n        } catch (error) {\n          console.error('Error parsing storage event:', error);\n        }\n      }\n    };\n    window.addEventListener('storage', handleStorageChange);\n    return () => window.removeEventListener('storage', handleStorageChange);\n  }, []);\n\n  // Timer interval effect\n  useEffect(() => {\n    let interval;\n    if (state.timer.isRunning) {\n      interval = setInterval(() => {\n        dispatch({\n          type: 'INCREMENT_TIMER'\n        });\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [state.timer.isRunning]);\n  return /*#__PURE__*/_jsxDEV(GameStateContext.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n}\n_s(GameStateProvider, \"4iRlf1j8yd8EOnLzdn/Ri/p3tw0=\");\n_c = GameStateProvider;\nexport function useGameState() {\n  _s2();\n  const context = useContext(GameStateContext);\n  if (!context) {\n    throw new Error('useGameState must be used within a GameStateProvider');\n  }\n  return context;\n}\n_s2(useGameState, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"GameStateProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","jsxDEV","_jsxDEV","GameStateContext","initialState","homeTeam","logo","name","score","redCards","awayTeam","timer","minutes","seconds","isRunning","period","extraTime","gameStateReducer","state","action","type","payload","newSeconds","newMinutes","GameStateProvider","children","_s","dispatch","savedState","localStorage","getItem","parsedState","JSON","parse","error","console","setItem","stringify","handleStorageChange","e","key","newValue","newState","window","addEventListener","removeEventListener","interval","setInterval","clearInterval","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useGameState","_s2","context","Error","$RefreshReg$"],"sources":["/Users/edbentto/PAINEL-OBS/src/context/GameStateContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\n\nconst GameStateContext = createContext();\n\nconst initialState = {\n  homeTeam: {\n    logo: null,\n    name: \"HOME\",\n    score: 0,\n    redCards: 0\n  },\n  awayTeam: {\n    logo: null,\n    name: \"AWAY\",\n    score: 0,\n    redCards: 0\n  },\n  timer: {\n    minutes: 0,\n    seconds: 0,\n    isRunning: false\n  },\n  period: \"1T\",\n  extraTime: 0\n};\n\nfunction gameStateReducer(state, action) {\n  switch (action.type) {\n    case 'SET_HOME_TEAM':\n      return {\n        ...state,\n        homeTeam: { ...state.homeTeam, ...action.payload }\n      };\n    case 'SET_AWAY_TEAM':\n      return {\n        ...state,\n        awayTeam: { ...state.awayTeam, ...action.payload }\n      };\n    case 'SET_TIMER':\n      return {\n        ...state,\n        timer: { ...state.timer, ...action.payload }\n      };\n    case 'INCREMENT_TIMER':\n      const newSeconds = state.timer.seconds + 1;\n      const newMinutes = newSeconds >= 60 ? state.timer.minutes + 1 : state.timer.minutes;\n      return {\n        ...state,\n        timer: {\n          ...state.timer,\n          minutes: newMinutes > 99 ? 99 : newMinutes,\n          seconds: newSeconds >= 60 ? 0 : newSeconds\n        }\n      };\n    case 'SET_PERIOD':\n      return {\n        ...state,\n        period: action.payload\n      };\n    case 'SET_EXTRA_TIME':\n      return {\n        ...state,\n        extraTime: action.payload\n      };\n    case 'LOAD_STATE':\n      return action.payload;\n    case 'RESET_GAME':\n      return initialState;\n    default:\n      return state;\n  }\n}\n\nexport function GameStateProvider({ children }) {\n  const [state, dispatch] = useReducer(gameStateReducer, initialState);\n\n  // Load state from localStorage on mount\n  useEffect(() => {\n    const savedState = localStorage.getItem('obs-football-game-state');\n    if (savedState) {\n      try {\n        const parsedState = JSON.parse(savedState);\n        dispatch({ type: 'LOAD_STATE', payload: parsedState });\n      } catch (error) {\n        console.error('Error loading saved state:', error);\n      }\n    }\n  }, []);\n\n  // Save state to localStorage whenever it changes\n  useEffect(() => {\n    localStorage.setItem('obs-football-game-state', JSON.stringify(state));\n  }, [state]);\n\n  // Listen for storage changes from other tabs\n  useEffect(() => {\n    const handleStorageChange = (e) => {\n      if (e.key === 'obs-football-game-state' && e.newValue) {\n        try {\n          const newState = JSON.parse(e.newValue);\n          dispatch({ type: 'LOAD_STATE', payload: newState });\n        } catch (error) {\n          console.error('Error parsing storage event:', error);\n        }\n      }\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    return () => window.removeEventListener('storage', handleStorageChange);\n  }, []);\n\n  // Timer interval effect\n  useEffect(() => {\n    let interval;\n    if (state.timer.isRunning) {\n      interval = setInterval(() => {\n        dispatch({ type: 'INCREMENT_TIMER' });\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [state.timer.isRunning]);\n\n  return (\n    <GameStateContext.Provider value={{ state, dispatch }}>\n      {children}\n    </GameStateContext.Provider>\n  );\n}\n\nexport function useGameState() {\n  const context = useContext(GameStateContext);\n  if (!context) {\n    throw new Error('useGameState must be used within a GameStateProvider');\n  }\n  return context;\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}